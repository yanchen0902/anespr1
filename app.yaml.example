runtime: python39
entrypoint: gunicorn -b :$PORT app_tocloud:app

env_variables:
  DATABASE_URL: "mysql+pymysql://[USER]:[PASSWORD]@/[DATABASE]?unix_socket=/cloudsql/[PROJECT_ID]:[REGION]:[INSTANCE]"
  GOOGLE_CLOUD_PROJECT: "[YOUR_PROJECT_ID]"
  SECRET_KEY: "[YOUR_SECRET_KEY]"
  GOOGLE_API_KEY: "[YOUR_API_KEY]"
  DB_USER: "[YOUR_DB_USER]"
  DB_PASS: "[YOUR_DB_PASSWORD]"
  DB_NAME: "[YOUR_DB_NAME]"
  CLOUD_SQL_CONNECTION_NAME: "[YOUR_CONNECTION_NAME]"

instance_class: F1

automatic_scaling:
  target_cpu_utilization: 0.65
  min_instances: 1
  max_instances: 10

vpc_access_connector:
  name: projects/[PROJECT_ID]/locations/[REGION]/connectors/[CONNECTOR_NAME]

handlers:
- url: /static
  static_dir: static
- url: /.*
  script: auto
